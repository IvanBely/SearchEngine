# <h1 align="center">Поисковой Движок | Search Engine</h1>
#### Это дипломная работа разработки backend составляющей поискового движка по курсам Java-разработчик от "Skillbox"
***
## Описание:
Поисковый движок представлет собой Spring-приложение (запускаемый на любом сервере или компьютере), работающее с локально установленной базой данных MySQL. У него простой веб-интерфейс и API, через который можно управлять и получать результаты поисковой выдачи по запросу. Пример ниже.

![Пример](https://github.com/IvanBely/SkillboxDiplom_SearchEngine/blob/master/Readme.png)

## Принципы работы поискового движка:
* В конфигурационном файле перед запуском приложения задаются адреса сайтов, по которым движок должен осуществлять поиск.
* Поисковый движок самостоятельно обходит все страницы заданных сайтов и индексирует их (создает так называемый индекс) так, чтобы затем находить наиболее релевантные страницы по любому поисковому запросу.
* Пользователь присылает запрос через API движка. Запрос — это набор слов, по которым нужно найти страницы сайта.
* Запрос определённым образом трансформируется в список слов, переведённых в базовую форму. Например, для существительных — именительный падеж, единственное число.
* В индексе ищутся страницы, на которых встречаются все эти слова.
* Результаты поиска ранжируются, сортируются и отдаются пользователю

***

## Stack:
Java version 19, Spring Boot version 2.7.5, Maven, Hibernate, Swagger Api, Lombok, JSOUP, Slf4j, MySQL, Morphology Library, junit, PostgreSQL.

***

## API Спецификация

* GET /api/startIndexing

> Запускает индексацию всех сайтов указанных в файле application.yaml. <br>
> Возвращает ошибку, если индексирование уже запущено.

Запускает индексацию/переиндексацию веб-страницы, указанной в параметре.
> URL-адрес должен быть связан с именами доменов, указанными в application.yml.

* GET /api/statistics
> Получает статистику

***

## Инструкция по запуску локально
* Для того, чтобы запустить проект локально вам необходимы JDK 16, система контроля версий git, сборщик проектов maven.
Клонировать проект можно через git bash:
> git clone https://github.com/IvanBely/SkillboxDiplom_SearchEngine.git
* Необходимо создать пустую базу данных search_engine (mysql)
``` roomsql
create database search_engine;
 ```
* Далее вам нужно изменить такие параметры, как пароль и логин и url к подключению базы данных. Эти переменные лежат в файле application.yaml.

Часть файла:
 ``` yaml
spring:
  datasource:
    username: root
#      указать имя базы данных
    password: root
#      указать пароль бызы данных
    url: jdbc:mysql://localhost:3306/search_engine2?useSSL=false&requireSSL=false&allowPublicKeyRetrieval=true
#      указать необходимый url
indexing-settings:
  sites:
      - url: https://playback.ru
#      индексируемый сайт
        name: PlayBack
#      имя

``` 
* Также необходимо настроить систему управления базами данных (PostgreSQL) и также изменить такие параметры, как пароль и логин и url к подключению базы данных
 ``` properties
server.port=8080
spring.jpa.hibernate.ddl-auto=update
spring.datasource.url=jdbc:postgresql://${DB_HOST:localhost}:5432/search_engine
spring.datasource.username=postgres
spring.datasource.password=postgres
```
## Как осуществляется поиск
После запуска проекта, по адресу http://localhost:8080/ станет доступен веб-интерфейс. Он представляет собой одну веб-страницу с тремя вкладками:
